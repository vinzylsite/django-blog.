{% extends 'base.html' %}

{% block title %}{{ action }} Post - Netflix Blog{% endblock %}

{% block content %}

<div class="form-container">
    <h2 style="margin-bottom: 30px; color: #ffffff;">{{ action }} Post</h2>

    <form method="post" enctype="multipart/form-data">
        {% csrf_token %}

        <div class="form-group">
            <label for="{{ form.title.id_for_label }}">Title</label>
            {{ form.title }}
            {% if form.title.errors %}
                <p style="color: #E50914; font-size: 14px; margin-top: 5px;">{{ form.title.errors.0 }}</p>
            {% endif %}
        </div>

        <div class="form-group">
            <label for="{{ form.category.id_for_label }}">Category</label>
            {{ form.category }}
            {% if form.category.errors %}
                <p style="color: #E50914; font-size: 14px; margin-top: 5px;">{{ form.category.errors.0 }}</p>
            {% endif %}
        </div>

        <div class="form-group">
            <label for="{{ form.content.id_for_label }}">Content</label>
            {{ form.content }}
            {% if form.content.errors %}
                <p style="color: #E50914; font-size: 14px; margin-top: 5px;">{{ form.content.errors.0 }}</p>
            {% endif %}
        </div>

        <div class="form-group">
            <label for="{{ form.excerpt.id_for_label }}">Excerpt (optional)</label>
            {{ form.excerpt }}
            {% if form.excerpt.errors %}
                <p style="color: #E50914; font-size: 14px; margin-top: 5px;">{{ form.excerpt.errors.0 }}</p>
            {% endif %}
        </div>

        <div class="form-group">
            <label for="{{ form.featured_image.id_for_label }}">Featured Image (Upload)</label>
            {{ form.featured_image }}
            {% if form.featured_image.errors %}
                <p style="color: #E50914; font-size: 14px; margin-top: 5px;">{{ form.featured_image.errors.0 }}</p>
            {% endif %}
        </div>

        <div class="form-group">
            <label for="{{ form.featured_image_url.id_for_label }}">{{ form.featured_image_url.label }}</label>
            {{ form.featured_image_url }}
            <p style="color: #808080; font-size: 13px; margin-top: 5px;">{{ form.featured_image_url.help_text }}</p>
            {% if form.featured_image_url.errors %}
                <p style="color: #E50914; font-size: 14px; margin-top: 5px;">{{ form.featured_image_url.errors.0 }}</p>
            {% endif %}
        </div>

        <div class="form-group">
            <label for="{{ form.status.id_for_label }}">Status</label>
            {{ form.status }}
            {% if form.status.errors %}
                <p style="color: #E50914; font-size: 14px; margin-top: 5px;">{{ form.status.errors.0 }}</p>
            {% endif %}
        </div>

        <div class="form-group" style="display: flex; align-items: center; gap: 10px;">
            {{ form.is_featured }}
            <label for="{{ form.is_featured.id_for_label }}" style="margin-bottom: 0;">Featured Post (Hero Banner)</label>
        </div>

        <div style="display: flex; gap: 10px; margin-top: 30px;">
            <button type="submit" class="btn btn-primary">{{ action }} Post</button>
            <a href="{% if post %}{% url 'blog:post_detail' post.slug %}{% else %}{% url 'blog:home' %}{% endif %}" class="btn btn-secondary">Cancel</a>
        </div>
    </form>
</div>

{% endblock %}